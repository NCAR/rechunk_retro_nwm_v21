['./report_output.py', '/glade/scratch/jamesmcc/retro_collect/lakeout/lakeout.zarr']

-------------------------------------------------------
Output file report: /glade/scratch/jamesmcc/retro_collect/lakeout/lakeout.zarr
Total file size: 287M
Dataset overviews:
zarr ds.info:
Name        : /
Type        : zarr.hierarchy.Group
Read-only   : False
Store type  : zarr.storage.DirectoryStore
No. members : 10
No. arrays  : 10
No. groups  : 0
Arrays      : crs, feature_id, inflow, latitude, longitude, outflow,
            : reservoir_assimilated_value, reservoir_type, time, water_sfc_elev


xarray ds.info:
<xarray.Dataset>
Dimensions:                      (feature_id: 5783, time: 19464)
Coordinates:
  * feature_id                   (feature_id) int32 491 531 ... 1021092845
    latitude                     (feature_id) float32 dask.array<chunksize=(5783,), meta=np.ndarray>
    longitude                    (feature_id) float32 dask.array<chunksize=(5783,), meta=np.ndarray>
  * time                         (time) datetime64[ns] 1979-02-10 ... 1981-04...
Data variables:
    crs                          |S1 ...
    inflow                       (time, feature_id) float64 dask.array<chunksize=(8064, 500), meta=np.ndarray>
    outflow                      (time, feature_id) float64 dask.array<chunksize=(8064, 500), meta=np.ndarray>
    reservoir_assimilated_value  (feature_id) float32 dask.array<chunksize=(5783,), meta=np.ndarray>
    reservoir_type               (feature_id) int32 dask.array<chunksize=(5783,), meta=np.ndarray>
    water_sfc_elev               (time, feature_id) float32 dask.array<chunksize=(8064, 500), meta=np.ndarray>
Attributes:
    Conventions:                CF-1.6
    TITLE:                      OUTPUT FROM WRF-Hydro v5.2.0-beta2
    code_version:               v5.2.0-beta2
    featureType:                timeSeries
    model_configuration:        retrospective
    model_initialization_time:  1980-10-01_00:00:00
    model_output_type:          reservoir
    model_output_valid_time:    1980-12-13_00:00:00
    model_total_valid_times:    2208
    proj4:                      +proj=lcc +units=m +a=6370000.0 +b=6370000.0 ...
    station_dimension:          lake_id

-----------------------------------
Variable comparison xarray and zarr

--------

crs

xarray ds[crs]:
<xarray.DataArray 'crs' ()>
array(b'', dtype='|S1')
Attributes:
    _CoordinateAxes:              latitude longitude
    esri_pe_string:               GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SP...
    grid_mapping_name:            latitude longitude
    inverse_flattening:           298.2572326660156
    long_name:                    CRS definition
    longitude_of_prime_meridian:  0.0
    semi_major_axis:              6378137.0
    semi_minor_axis:              6356752.5
    spatial_ref:                  GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SP...
    transform_name:               latitude longitude

zarr dz[crs].info:
Name               : /crs
Type               : zarr.core.Array
Data type          : |S1
Shape              : ()
Chunk shape        : ()
Order              : C
Read-only          : False
Compressor         : None
Store type         : zarr.storage.DirectoryStore
No. bytes          : 1
No. bytes stored   : 1077 (1.1K)
Storage ratio      : 0.0
Chunks initialized : 3/1

Chunk size in MB: 9.5367431640625e-07

--------

feature_id

xarray ds[feature_id]:
<xarray.DataArray 'feature_id' (feature_id: 5783)>
array([       491,        531,        747, ...,  947070203,  947070204,
       1021092845], dtype=int32)
Coordinates:
  * feature_id  (feature_id) int32 491 531 747 ... 947070204 1021092845
    latitude    (feature_id) float32 dask.array<chunksize=(5783,), meta=np.ndarray>
    longitude   (feature_id) float32 dask.array<chunksize=(5783,), meta=np.ndarray>
Attributes:
    cf_role:    timeseries_id
    comment:    ComID from NHDPlusV2 waterbody layer
    long_name:  Lake ComID

zarr dz[feature_id].info:
Name               : /feature_id
Type               : zarr.core.Array
Data type          : int32
Shape              : (5783,)
Chunk shape        : (5783,)
Order              : C
Read-only          : False
Compressor         : Blosc(cname='lz4', clevel=5, shuffle=SHUFFLE, blocksize=0)
Store type         : zarr.storage.DirectoryStore
No. bytes          : 23132 (22.6K)
No. bytes stored   : 13227 (12.9K)
Storage ratio      : 1.7
Chunks initialized : 1/1

Chunk size in MB: 0.022060394287109375

--------

inflow

xarray ds[inflow]:
<xarray.DataArray 'inflow' (time: 19464, feature_id: 5783)>
dask.array<open_dataset-34b7ab5ef417d32546f923060fe523f9inflow, shape=(19464, 5783), dtype=float64, chunksize=(8064, 500), chunktype=numpy.ndarray>
Coordinates:
  * feature_id  (feature_id) int32 491 531 747 ... 947070204 1021092845
    latitude    (feature_id) float32 dask.array<chunksize=(5783,), meta=np.ndarray>
    longitude   (feature_id) float32 dask.array<chunksize=(5783,), meta=np.ndarray>
  * time        (time) datetime64[ns] 1979-02-10 ... 1981-04-30T23:00:00
Attributes:
    grid_mapping:  crs
    long_name:     Lake Inflow
    units:         m3 s-1
    valid_range:   [-1000000, 1000000]

zarr dz[inflow].info:
Name               : /inflow
Type               : zarr.core.Array
Data type          : int32
Shape              : (19464, 5783)
Chunk shape        : (8064, 500)
Order              : C
Read-only          : False
Compressor         : Blosc(cname='lz4', clevel=5, shuffle=SHUFFLE, blocksize=0)
Store type         : zarr.storage.DirectoryStore
No. bytes          : 450241248 (429.4M)
No. bytes stored   : 89251962 (85.1M)
Storage ratio      : 5.0
Chunks initialized : 36/36

Chunk size in MB: 15.380859375

--------

latitude

xarray ds[latitude]:
<xarray.DataArray 'latitude' (feature_id: 5783)>
dask.array<open_dataset-34b7ab5ef417d32546f923060fe523f9latitude, shape=(5783,), dtype=float32, chunksize=(5783,), chunktype=numpy.ndarray>
Coordinates:
  * feature_id  (feature_id) int32 491 531 747 ... 947070204 1021092845
    latitude    (feature_id) float32 dask.array<chunksize=(5783,), meta=np.ndarray>
    longitude   (feature_id) float32 dask.array<chunksize=(5783,), meta=np.ndarray>
Attributes:
    long_name:      Lake latitude
    standard_name:  latitude
    units:          degrees_north

zarr dz[latitude].info:
Name               : /latitude
Type               : zarr.core.Array
Data type          : float32
Shape              : (5783,)
Chunk shape        : (5783,)
Order              : C
Read-only          : False
Compressor         : Blosc(cname='lz4', clevel=5, shuffle=SHUFFLE, blocksize=0)
Store type         : zarr.storage.DirectoryStore
No. bytes          : 23132 (22.6K)
No. bytes stored   : 17498 (17.1K)
Storage ratio      : 1.3
Chunks initialized : 1/1

Chunk size in MB: 0.022060394287109375

--------

longitude

xarray ds[longitude]:
<xarray.DataArray 'longitude' (feature_id: 5783)>
dask.array<open_dataset-34b7ab5ef417d32546f923060fe523f9longitude, shape=(5783,), dtype=float32, chunksize=(5783,), chunktype=numpy.ndarray>
Coordinates:
  * feature_id  (feature_id) int32 491 531 747 ... 947070204 1021092845
    latitude    (feature_id) float32 dask.array<chunksize=(5783,), meta=np.ndarray>
    longitude   (feature_id) float32 dask.array<chunksize=(5783,), meta=np.ndarray>
Attributes:
    long_name:      Lake longitude
    standard_name:  longitude
    units:          degrees_east

zarr dz[longitude].info:
Name               : /longitude
Type               : zarr.core.Array
Data type          : float32
Shape              : (5783,)
Chunk shape        : (5783,)
Order              : C
Read-only          : False
Compressor         : Blosc(cname='lz4', clevel=5, shuffle=SHUFFLE, blocksize=0)
Store type         : zarr.storage.DirectoryStore
No. bytes          : 23132 (22.6K)
No. bytes stored   : 17316 (16.9K)
Storage ratio      : 1.3
Chunks initialized : 1/1

Chunk size in MB: 0.022060394287109375

--------

outflow

xarray ds[outflow]:
<xarray.DataArray 'outflow' (time: 19464, feature_id: 5783)>
dask.array<open_dataset-34b7ab5ef417d32546f923060fe523f9outflow, shape=(19464, 5783), dtype=float64, chunksize=(8064, 500), chunktype=numpy.ndarray>
Coordinates:
  * feature_id  (feature_id) int32 491 531 747 ... 947070204 1021092845
    latitude    (feature_id) float32 dask.array<chunksize=(5783,), meta=np.ndarray>
    longitude   (feature_id) float32 dask.array<chunksize=(5783,), meta=np.ndarray>
  * time        (time) datetime64[ns] 1979-02-10 ... 1981-04-30T23:00:00
Attributes:
    grid_mapping:  crs
    long_name:     Lake Outflow
    units:         m3 s-1
    valid_range:   [-1000000, 1000000]

zarr dz[outflow].info:
Name               : /outflow
Type               : zarr.core.Array
Data type          : int32
Shape              : (19464, 5783)
Chunk shape        : (8064, 500)
Order              : C
Read-only          : False
Compressor         : Blosc(cname='lz4', clevel=5, shuffle=SHUFFLE, blocksize=0)
Store type         : zarr.storage.DirectoryStore
No. bytes          : 450241248 (429.4M)
No. bytes stored   : 63222510 (60.3M)
Storage ratio      : 7.1
Chunks initialized : 36/36

Chunk size in MB: 15.380859375

--------

reservoir_assimilated_value

xarray ds[reservoir_assimilated_value]:
<xarray.DataArray 'reservoir_assimilated_value' (feature_id: 5783)>
dask.array<open_dataset-34b7ab5ef417d32546f923060fe523f9reservoir_assimilated_value, shape=(5783,), dtype=float32, chunksize=(5783,), chunktype=numpy.ndarray>
Coordinates:
  * feature_id  (feature_id) int32 491 531 747 ... 947070204 1021092845
    latitude    (feature_id) float32 dask.array<chunksize=(5783,), meta=np.ndarray>
    longitude   (feature_id) float32 dask.array<chunksize=(5783,), meta=np.ndarray>
Attributes:
    long_name:  reservoir_assimilated_value
    units:      m3 s-1

zarr dz[reservoir_assimilated_value].info:
Name               : /reservoir_assimilated_value
Type               : zarr.core.Array
Data type          : float32
Shape              : (5783,)
Chunk shape        : (5783,)
Order              : C
Read-only          : False
Compressor         : Blosc(cname='lz4', clevel=5, shuffle=SHUFFLE, blocksize=0)
Store type         : zarr.storage.DirectoryStore
No. bytes          : 23132 (22.6K)
No. bytes stored   : 656
Storage ratio      : 35.3
Chunks initialized : 1/1

Chunk size in MB: 0.022060394287109375

--------

reservoir_type

xarray ds[reservoir_type]:
<xarray.DataArray 'reservoir_type' (feature_id: 5783)>
dask.array<open_dataset-34b7ab5ef417d32546f923060fe523f9reservoir_type, shape=(5783,), dtype=int32, chunksize=(5783,), chunktype=numpy.ndarray>
Coordinates:
  * feature_id  (feature_id) int32 491 531 747 ... 947070204 1021092845
    latitude    (feature_id) float32 dask.array<chunksize=(5783,), meta=np.ndarray>
    longitude   (feature_id) float32 dask.array<chunksize=(5783,), meta=np.ndarray>
Attributes:
    flag_meanings:  Level_pool USGS-persistence USACE-persistence RFC-forecasts
    flag_values:    [1, 2, 3, 4]
    long_name:      reservoir_type

zarr dz[reservoir_type].info:
Name               : /reservoir_type
Type               : zarr.core.Array
Data type          : int32
Shape              : (5783,)
Chunk shape        : (5783,)
Order              : C
Read-only          : False
Compressor         : Blosc(cname='lz4', clevel=5, shuffle=SHUFFLE, blocksize=0)
Store type         : zarr.storage.DirectoryStore
No. bytes          : 23132 (22.6K)
No. bytes stored   : 774
Storage ratio      : 29.9
Chunks initialized : 1/1

Chunk size in MB: 0.022060394287109375

--------

time

xarray ds[time]:
<xarray.DataArray 'time' (time: 19464)>
array(['1979-02-10T00:00:00.000000000', '1979-02-10T01:00:00.000000000',
       '1979-02-10T02:00:00.000000000', ..., '1981-04-30T21:00:00.000000000',
       '1981-04-30T22:00:00.000000000', '1981-04-30T23:00:00.000000000'],
      dtype='datetime64[ns]')
Coordinates:
  * time     (time) datetime64[ns] 1979-02-10 ... 1981-04-30T23:00:00
Attributes:
    long_name:      valid output time
    standard_name:  time
    valid_max:      4862880
    valid_min:      4777980

zarr dz[time].info:
Name               : /time
Type               : zarr.core.Array
Data type          : int64
Shape              : (19464,)
Chunk shape        : (8064,)
Order              : C
Read-only          : False
Compressor         : Blosc(cname='lz4', clevel=5, shuffle=SHUFFLE, blocksize=0)
Store type         : zarr.storage.DirectoryStore
No. bytes          : 155712 (152.1K)
No. bytes stored   : 2805 (2.7K)
Storage ratio      : 55.5
Chunks initialized : 3/3

Chunk size in MB: 0.0615234375

--------

water_sfc_elev

xarray ds[water_sfc_elev]:
<xarray.DataArray 'water_sfc_elev' (time: 19464, feature_id: 5783)>
dask.array<open_dataset-34b7ab5ef417d32546f923060fe523f9water_sfc_elev, shape=(19464, 5783), dtype=float32, chunksize=(8064, 500), chunktype=numpy.ndarray>
Coordinates:
  * feature_id  (feature_id) int32 491 531 747 ... 947070204 1021092845
    latitude    (feature_id) float32 dask.array<chunksize=(5783,), meta=np.ndarray>
    longitude   (feature_id) float32 dask.array<chunksize=(5783,), meta=np.ndarray>
  * time        (time) datetime64[ns] 1979-02-10 ... 1981-04-30T23:00:00
Attributes:
    comment:    If reservoir_type = 4, water_sfc_elev is invalid because this...
    long_name:  Water Surface Elevation
    units:      m

zarr dz[water_sfc_elev].info:
Name               : /water_sfc_elev
Type               : zarr.core.Array
Data type          : float32
Shape              : (19464, 5783)
Chunk shape        : (8064, 500)
Order              : C
Read-only          : False
Compressor         : Blosc(cname='lz4', clevel=5, shuffle=SHUFFLE, blocksize=0)
Store type         : zarr.storage.DirectoryStore
No. bytes          : 450241248 (429.4M)
No. bytes stored   : 146518209 (139.7M)
Storage ratio      : 3.1
Chunks initialized : 36/36

Chunk size in MB: 15.380859375
